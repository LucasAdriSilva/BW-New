{% extends 'base.html' %}

{% block content %}
  <div class="row m-3 d-flex flex-column align-items-center">

    <div class="col-12 ">
        {% if data.msgTrue %}
            <div id="msg_valided" class="alert alert-success text-center" role="alert">
                {{data.msgTrue}}
            </div>
        {% endif %}
        {% if data.msgFalse %}
            <div id="msg_valided" class="alert alert-danger text-center" role="alert">
                {{data.msgFalse}}
            </div>
        {% endif %}


        <h1 class="text-center">Recuperação de senha</h1>
    </div>

    <div class="col-12 text-center">
        <form action="/reset" method="POST" class="needs-validation" novalidate>
            <input 
                type="text" 
                name=login 
                id="login"
                class="form-control mb-1 text-center minW150 fs16px" 
                placeholder="Digite seu nome de usuário" 
                required
                autofocus
            >
            <div class="invalid-feedback text-start">
                Digite o login para fazer a recupeção de senha.
            </div>
            
            <button
                class="w-75 btn btn-outline orange mt-2 minW80"
                type="submit"
            >
                Enviar
            </button>
            

        </form>
    </div>

  </div>
  
  <script>
    // VALIDAÇÂO FORM
    (function() {
          'use strict';
          window.addEventListener('load', function() {
            // Pega todos os formulários que nós queremos aplicar estilos de validação Bootstrap personalizados.
            var forms = document.getElementsByClassName('needs-validation');
            // Faz um loop neles e evita o envio
            var validation = Array.prototype.filter.call(forms, function(form) {
              form.addEventListener('submit', function(event) {
                if (form.checkValidity() === false) {
                  event.preventDefault();
                  event.stopPropagation();
                }
                form.classList.add('was-validated');
              }, false);
            });
          }, false);
        })();


    //TEMPO DE MSG
    setTimeout(function () {
    document.getElementById("msg_valided").style.display = "none";
    }, 3000);
</script>
{% endblock %}
